@model TopicIndexPage

<header id="topic-header">
	<ul class="float-right inline pages">
		<li class="note pointer">Pages: </li>
		@for (var i = 1; i <= Model.TotalPages; i++) {
			if (Model.CurrentPage == i) {
				<li class="small-button highlight page hidden">@i</li>
			}
			else {
				<li class="page hidden"><a asp-controller="@nameof(Topics)" asp-action="@nameof(Topics.Index)" asp-route-id="@Model.BoardId" asp-route-pageId="@i" class="small-button">@i.ToString()</a></li>
			}
		}
	</ul>

	<br class="clear" />
</header>

@foreach (var item in Model.Topics) {
	@await Html.PartialAsync("_IndexItem", item)
}

<footer>
	<ul class="inline pages">
		<li class="note pointer">Pages: </li>
		@for (var i = 1; i <= Model.TotalPages; i++) {
			if (Model.CurrentPage == i) {
				<li class="small-button highlight page hidden">@i</li>
			}
			else {
				<li class="page hidden"><a asp-controller="@nameof(Topics)" asp-action="@nameof(Topics.Index)" asp-route-id="@Model.BoardId" asp-route-pageId="@i" class="small-button">@i.ToString()</a></li>
			}
		}
	</ul>
</footer>

@{ViewData["Title"] = "Topics";}

@section PageActions {
	@if (User.Identity.IsAuthenticated && Model.BoardId > 0) {
		<li>
			<a class="button" asp-action="Create" asp-controller="Messages" asp-route-id="@Model.BoardId">Create a new Topic</a>
		</li>
	}
}

@section scripts {
	<script>
		var currentPage = @Model.CurrentPage;
		var totalPages = @Model.TotalPages;
	</script>
}

@section styles {
	<environment include="Development">
		<link rel="stylesheet" href="~/css/Pages/TopicIndex.css" asp-append-version="true" />
	</environment>
	<environment exclude="Development">
		<link rel="stylesheet" href="~/css/min/TopicIndex.min.css" asp-append-version="true" />
	</environment>
}